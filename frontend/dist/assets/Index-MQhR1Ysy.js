import{_ as Q}from"./coin-C5JkormZ.js";import{U as D}from"./userService-Bkx4nRdX.js";import{H as W,B as J,d as L,c as u,a as e,n as P,o as v,_ as G,r as g,b as q,t as r,e as w,F as B,f as z,g as K,i as O,N as T,p as N,h as U}from"./index-JH8eRqt0.js";const Y="data:image/png;base64,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",Z="/assets/earn-D3VDch0w.png",X="/assets/boost-CCFEEJlC.png",M="/assets/leaderboard-Cn59ZM1N.png",j="/assets/profile-bh-mFFQC.png";class I extends W{constructor(){super(J+"/game")}async sendClick(n){const s=await this.post("/click",{count:n});if(s.isOk()){const a=s.value.result;return localStorage.setItem("user",JSON.stringify(a)),a}throw s.error}async checkRoBot(){const n=await this.get("/checkRoBot");if(n.isOk()){const s=n.value.result.user;return localStorage.setItem("user",JSON.stringify(s)),n.value.result.count}throw n.error}}const $={class:"progress_line w-full bg-card box-shadow p-1 rounded-1"},ee=L({__name:"ProgressLine",props:{size:{},value:{}},setup(c){const n=c,s=()=>n.value/n.size*100;return(a,f)=>(v(),u("div",$,[e("div",{style:P(`width:${s()}%;`),class:"progress_line_fill rounded-1"},null,4)]))}}),se=G(ee,[["__scopeId","data-v-815d3100"]]),o=c=>(N("data-v-f7799fcb"),c=c(),U(),c),te={class:"section_squad"},le={class:"box-shadow bg-card p-3 rounded-1"},oe={class:"flex-center"},ae={class:"squad_profile d-flex mr-3"},ne=["src"],ie={class:"d-flex flex-column"},re={class:"text-color fs-small fw-bold"},ce={class:"description-color fs-small fw-normal mt-2"},de={class:"d-flex align-items-center"},ue={class:"d-flex align-items-center mr-3"},ve=o(()=>e("img",{class:"mr-1",width:"15px",src:Q,alt:""},null,-1)),fe={class:"d-flex align-items-center"},me=["src"],pe=o(()=>e("span",{class:"text-color fs-medium fw-normal"},"Join Squad",-1)),ge=[pe],Ae={class:"section_balance mt-5"},he={class:"flex-center"},_e=o(()=>e("img",{class:"mr-2",width:"35px",src:Q,alt:""},null,-1)),we={class:"text-color fs-secondary-large fw-bold"},be=["src"],ke={class:"description-color fs-small fw-bold"},xe={class:"section_click mt-5"},ye={class:"flex-center"},Ce=["src"],Se={class:"section_footer mb-2 mt-auto"},Be={class:"d-flex flex-column w-full"},Ie={class:"d-flex align-items-center mb-2"},Qe=o(()=>e("img",{width:"30px",src:Y,alt:""},null,-1)),Le={class:"text-color fs-medium fw-normal ml-2"},Pe={class:"mt-4 box-shadow bg-card rounded-1 py-2"},Ge={class:"d-flex align-items-center justify-content-between"},Ee=o(()=>e("img",{width:"35px",src:Z,alt:"leaderboard"},null,-1)),He=o(()=>e("span",{class:"text-color fs-secondary-small fw-bold mt-2"},"Earn",-1)),Ve=[Ee,He],Fe=o(()=>e("div",{class:"footer_spliter"},null,-1)),Re=o(()=>e("img",{width:"35px",src:X,alt:"leaderboard"},null,-1)),De=o(()=>e("span",{class:"text-color fs-secondary-small fw-bold mt-2"},"Boosts",-1)),We=[Re,De],Je=o(()=>e("div",{class:"footer_spliter"},null,-1)),qe=o(()=>e("img",{width:"35px",src:M,alt:"leaderboard"},null,-1)),ze=o(()=>e("span",{class:"text-color fs-secondary-small fw-bold mt-2"},"Leaders",-1)),Ke=[qe,ze],Oe=o(()=>e("div",{class:"footer_spliter"},null,-1)),Te=o(()=>e("img",{width:"35px",src:j,alt:"leaderboard"},null,-1)),Ne=o(()=>e("span",{class:"text-color fs-secondary-small fw-bold mt-2"},"Profile",-1)),Ue=[Te,Ne],Ye=L({__name:"Index",setup(c){const{createNotification:n}=O("notification"),s=g(),a=g(),f=g(0),A=g(),h=g([]),E=new I,H=new D;q(()=>{const t=setInterval(()=>{s.value&&s.value.availableEnergy!=s.value.limitEnergyLevel.value&&(s.value.availableEnergy+=s.value.rechargeEnergyLevel.value,s.value.availableEnergy>s.value.limitEnergyLevel.value&&(s.value.availableEnergy=s.value.limitEnergyLevel.value)),A.value&&new Date().getTime()-A.value.getTime()>=2e3&&(f.value!=0&&new I().sendClick(f.value).finally(()=>b()),f.value=0,A.value=null)},1e3);return()=>clearInterval(t)});const b=()=>{H.profile().then(t=>{s.value=t,a.value=t.squad})},V=()=>{setTimeout(()=>{s.value&&s.value.roBotLevel&&E.checkRoBot().then(t=>{s.value&&(s.value.balanceCoin+=t,s.value.squad&&(s.value.squad.balanceCoin+=t)),n({title:"Robot Mining",description:`In your absence, the robot has collected ${t} coins for you`,type:T.Information})})},3e3)},F=t=>{if(!s.value||s.value.availableEnergy<s.value.multipleClickLevel.value)return;const l=t.offsetX,_=t.offsetY,m={x:l,y:_,score:k()};h.value.push(m),setTimeout(()=>{let p=h.value.indexOf(m);p>-1&&h.value.splice(p,1)},1e3);const d=k();s.value.balanceCoin+=d,s.value.availableEnergy-=d,a.value&&(a.value.balanceCoin+=d),f.value+=d,A.value=new Date},k=()=>{var t;return((t=s.value)==null?void 0:t.multipleClickLevel.value)??1};return b(),V(),(t,l)=>{var _,m,d,p,x,y,C,S;return v(),u(B,null,[e("section",te,[e("div",le,[a.value?(v(),u("div",{key:0,onClick:l[0]||(l[0]=i=>t.$router.push({name:"squad_detail",params:{id:a.value.id}})),class:"d-flex align-items-center justify-content-between"},[e("div",oe,[e("div",ae,[e("img",{class:"rounded-1 w-full h-full",src:t.$filters.serverLinkFormat(a.value.image),alt:""},null,8,ne)]),e("div",ie,[e("span",re,r(t.$filters.truncate(a.value.name,30)),1),e("span",ce,[e("div",de,[e("div",ue,[ve,w(" "+r(t.$filters.numberFormat(a.value.balanceCoin)),1)]),e("div",fe,[e("img",{class:"mr-1",width:"15px",src:t.$filters.serverLinkFormat(a.value.league.image),alt:""},null,8,me),w(" "+r(a.value.league.name),1)])])])])])])):(v(),u("div",{key:1,onClick:l[1]||(l[1]=i=>t.$router.push({name:"squad_list"})),class:"flex-center"},ge))])]),e("div",Ae,[e("div",he,[_e,e("span",we,r(t.$filters.numberFormat(((_=s.value)==null?void 0:_.balanceCoin)??0)),1)]),e("div",{class:"flex-center mt-2",onClick:l[2]||(l[2]=i=>t.$router.push({name:"leaderboard"}))},[e("img",{class:"mr-1",width:"20px",src:t.$filters.serverLinkFormat((m=s.value)==null?void 0:m.league.image),alt:""},null,8,be),e("span",ke,r((d=s.value)==null?void 0:d.league.name),1)])]),e("section",xe,[e("div",ye,[e("div",{class:"section_skin_image",onClick:F},[e("img",{class:"w-full h-full",src:t.$filters.serverLinkFormat((p=s.value)==null?void 0:p.skin.image),alt:""},null,8,Ce),(v(!0),u(B,null,z(h.value,(i,R)=>(v(),u("span",{key:R,style:P(`top: ${i.y}px; left:${i.x}px;`),class:"text-color fs-secondary-large fw-bold recived_score"},r(i.score),5))),128))])])]),e("div",Se,[e("div",Be,[e("div",Ie,[Qe,e("span",Le,[e("b",null,r(t.$filters.numberFormat(((x=s.value)==null?void 0:x.availableEnergy)??0)),1),w(" / "+r(t.$filters.numberFormat(((y=s.value)==null?void 0:y.limitEnergyLevel.value)??0)),1)])]),K(se,{class:"progress_energy",value:((C=s.value)==null?void 0:C.availableEnergy)??100,size:((S=s.value)==null?void 0:S.limitEnergyLevel.value)??100},null,8,["value","size"])]),e("div",Pe,[e("div",Ge,[e("div",{onClick:l[3]||(l[3]=i=>t.$router.push({name:"earn"})),class:"footer_item flex-center flex-column px-3"},Ve),Fe,e("div",{onClick:l[4]||(l[4]=i=>t.$router.push({name:"boosts"})),class:"footer_item flex-center flex-column px-3"},We),Je,e("div",{onClick:l[5]||(l[5]=i=>t.$router.push({name:"leaderboard"})),class:"footer_item flex-center flex-column px-3"},Ke),Oe,e("div",{onClick:l[6]||(l[6]=i=>t.$router.push({name:"profile"})),class:"footer_item flex-center flex-column px-3"},Ue)])])])],64)}}}),je=G(Ye,[["__scopeId","data-v-f7799fcb"]]);export{je as default};
